<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Ask Agentforce - Custom Launcher</title>
<style>
    body {
        font-family: Arial, sans-serif;
        background-color: #f4f6f9;
        padding: 20px;
    }

    /* Custom Yellow Launcher */
    .custom-launcher {
        position: fixed;
        bottom: 20px;
        right: 20px;
        background-color: #FFB81C; /* Cube84 Yellow */
        color: #1A1A1A;           /* Dark text */
        font-weight: bold;
        font-size: 16px;
        border: none;
        border-radius: 30px;
        padding: 12px 20px;
        cursor: pointer;
        display: flex;
        align-items: center;
        gap: 8px;
        box-shadow: 0 4px 10px rgba(0,0,0,0.25);
    }
    .custom-launcher:hover {
        background-color: #e6a600; /* darker yellow on hover */
    }

    .custom-launcher img {
        width: 24px;
        height: 24px;
    }

    /* Hide Salesforceâ€™s default launcher */
    .embeddedservice-launcher {
        display: none !important;
    }

    /* Chat header customization */
    .embeddedservice-chatHeader {
        background-color: #FFB81C !important; /* Cube84 Yellow */
        color: #1A1A1A !important;            /* Dark text */
        font-weight: bold;
        font-size: 16px;
    }
    .embeddedservice-chatHeader .headerText,
    .embeddedservice-chatHeader .embeddedserviceIcon {
        color: #1A1A1A !important;
    }
</style>
</head>
<body>

<!-- Custom Chat Button -->
<button class="custom-launcher" onclick="openChat()">
    <img src="https://img.icons8.com/ios-filled/50/000000/chatbot.png" alt="Agentforce Icon">
    Ask Agentforce
</button>

<!-- Embedded Service snippet from Salesforce -->
<script type='text/javascript'>
	function initEmbeddedMessaging() {
		try {
			embeddedservice_bootstrap.settings.language = 'en_US';

			embeddedservice_bootstrap.init(
				'00DWU00000TPmwp', // Org ID
				'New',            // Deployment Name
				'https://orgfarm-46a4b066a5-dev-ed.develop.my.site.com/ESWNew1755517685363',
				{
					scrt2URL: 'https://orgfarm-46a4b066a5-dev-ed.develop.my.salesforce-scrt.com'
				}
			);
		} catch (err) {
			console.error('Error loading Embedded Messaging: ', err);
		}
	};

    /* Open Chat manually when clicking custom button */
    function openChat() {
        if (window.embeddedservice_bootstrap &&
            window.embeddedservice_bootstrap.utilAPI) {
            window.embeddedservice_bootstrap.utilAPI.launchChat();
        } else {
            console.error("MIAW bootstrap not ready yet");
        }
    }
</script>

<!-- Load MIAW bootstrap -->
<script type='text/javascript'
        src='https://orgfarm-46a4b066a5-dev-ed.develop.my.site.com/ESWNew1755517685363/assets/js/bootstrap.min.js'
        onload='initEmbeddedMessaging()'></script>

</body>
</html>
